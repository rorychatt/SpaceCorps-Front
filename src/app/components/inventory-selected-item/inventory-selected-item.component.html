<div class="card bg-base-200 shadow-md p-4">
  <div class="card-body">
    <h2 class="card-title">Selected Item</h2>
    @if (selectedItem) {
      <p><strong>ID:</strong> {{ selectedItem.id }}</p>
      <p><strong>Name:</strong> {{ selectedItem.name }}</p>

      <!-- Loop through each slot group for the selected item -->
      @for (mapping of getChildMapping(selectedItem); track mapping.title) {
        <h3 class="mb-2">{{ mapping.title }}</h3>
        <div class="flex gap-2">
          @for (slot of getSlots(mapping.maxSlots); track $index) {
            @if (selectedItem[mapping.childrenKey] && selectedItem[mapping.childrenKey][$index]) {
              <div class="w-16 h-16 aspect-square child-item" draggable="true">
                <p class="text-xs text-center">{{ selectedItem[mapping.childrenKey][$index].name }}</p>
              </div>
            } @else {
              <div class="w-16 h-16 aspect-square empty-slot cursor-pointer bg-gray-100"
                   (dragover)="onDragOver($event)"
                   (drop)="onDrop($event, mapping, $index)">
                <p class="text-xs">Empty Slot</p>
              </div>
            }
          }
        </div>
      }
    } @else {
      <p class="text-center">No item selected</p>
    }
  </div>
</div>
